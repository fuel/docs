<!doctype html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./../../assets/css/combined.css">
	<link rel="shortcut icon" href="./../../favicon.ico" />
	<script src="http://www.google.com/jsapi" type="text/javascript"></script>
	<script type="text/javascript">
		var path = './../../';
		var class_prefix = "Fieldset::";
	</script>
	<script src="./../../assets/js/combined.js"></script>
	<title>Fieldset - クラス - FuelPHP ドキュメント</title>
</head>
<body>
	<div id="container">
		<header id="header">
			<div class="table">
				<h1>
					<a href="http://fuelphp.com"><img height="37px" width="147px" src="./../../assets/img/fuel.png" /></a>
					<strong>Documentation</strong>
				</h1>

				<form id="google_search">
					<p>
						<span id="search_clear">&nbsp;</span>
						<input type="submit" name="search_submit" id="search_submit" value="検索" />
						<input type="text" value="" id="search_input" name="search_input" />
					</p>
				</form>
			</div>
			<nav>

				<div class="clear"></div>
			</nav>
			<a href="#" id="toc_handle">目次</a>
			<div class="clear"></div>
		</header>

		<div id="cse">
			<div id="cse_point"></div>
			<div id="cse_content"></div>
		</div>

		<div id="main">

			<h2>Fieldset クラス</h2>

			<p>
				Fieldset クラスは、オブジェクト指向風に、フォームを作ったりそのバリデーションを扱ったりするのに利用されます。
				Fieldset クラスは、 Form クラスと Validation クラスを利用します。Fieldset クラスそのものは、フィールドセットとそれぞれのフィールドを組み合わせるだけで、
				実際には、 Form と Validation の 2 つのクラスが仕事をすることになります。
			</p>
			<p>
				Fieldset のフィールドはすべて <a href="field.html">Fieldset_Field</a> オブジェクトで定義され、
				それらのフィールドは Fieldset の <kbd>field()</kbd> メソッドを使用して直接操作することができます。
			</p>
			<p>
				フォームのマークアップは、 Fieldset インスタンスをビューに渡すとき、あるいは <kbd>build()</kbd> を呼び出すときに生成されます。
			</p>

			<article>
				<h4 class="method" id="method_forge">forge($name = 'default', $config = array())</h4>
				<p><strong>forge</strong> メソッドは、新しい Fieldset インスタンスを返します。注意:  1 つの <kbd>$name</kbd> に 1 つのインスタンスのみです。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><pre class="php"><code>'default'</code></pre></td>
										<td>この Fieldset の一意識別子</td>
									</tr>
									<tr>
										<th><kbd>$config</kbd></th>
										<td><code>array()</code></td>
										<td>設定の配列</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>\Fieldset オブジェクト</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$article_form = Fieldset::forge('article');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>

				<p>
					Fieldset オブジェクトを構築するとき、カスタム設定されたオブジェクトをセットアップするための設定を記述する配列を渡すことができます。
					以下のアイテムがサポートされています。
				</p>
				<table class="config">
					<tbody>
						<tr class="header">
							<th>パラメータ</th>
							<th>型</th>
							<th>デフォルト</th>
							<th>説明</th>
						</tr>
						<tr>
							<th>validation_instance</th>
							<td>Validation オブジェクト</td>
							<td><pre class="php"><code>null</code></pre></td>
							<td>
								Fieldset を検証するために使用する既存の Validation クラスオブジェクト。
								指定しない場合、この Fieldset に Validation オブジェクトを新規作成します。
							</td>
						</tr>
						<tr>
							<th>form_instance</th>
							<td>Form オブジェクト</td>
							<td><pre class="php"><code>null</code></pre></td>
							<td>
								Fieldset を検証するために使用する既存の Form クラスオブジェクト。
								指定しない場合、この Fieldset に Form オブジェクトを新規作成します。
							</td>
						</tr>
					</tbody>
				</table>
				<p>
					これらのフィールドの他に、カスタムフォーム設定を渡すことで、 Fieldset がフォームを生成する方法を変更できます。
					有効な設定値は、<kbd>form.php</kbd> 設定ファイルをご覧ください。
				</p>
			</article>

			<article>
				<h4 class="method" id="method_instance">instance($instance = null)</h4>
				<p>指定したインスタンス、またはデフォルトインスタンスを返す。 (必要なら作成する)</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$instance</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>呼び出す Fieldset インスタンスの一意識別子</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>\Fieldset オブジェクト<br />
						または、指定したインスタンスが存在しなければ <kbd>false</kbd></td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$article_form = Fieldset::instance('article');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_validation">validation()</h4>
				<p>現在の Fieldset の Validation インスタンスを取得する。存在しなければ、Validation インスタンスを作成する。</p>
				<table class="method">
					<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>いいえ</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>\Validation オブジェクト</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>$validation = $article_form->validation();</code></pre>
							</td>
						</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_form">form()</h4>
				<p>現在の Fieldset の Form インスタンスを取得する。存在しなければ、 Form インスタンスを作成する。</p>
				<table class="method">
					<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>いいえ</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>\Form Object</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>$form = $article_form->form();</code></pre>
							</td>
						</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_add">add($name, $label = '', array $attributes = array(), array $rules = array())</h4>
				<p><a href="field.html">Fieldset_Field</a> インスタンスを作成し、現在の Fieldset に追加する。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><i>必須</i></td>
										<td>HTML name 属性、 Fieldset でフィールドを参照するのにも使用する</td>
									</tr>
									<tr>
										<th><kbd>$label</kbd></th>
										<td><pre class="php"><code>''</code></pre></td>
										<td>フィールドラベル</td>
									</tr>
									<tr>
										<th><kbd>$attributes</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>HTML 属性の連想配列</td>
									</tr>
									<tr>
										<th><kbd>$rules</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>このフィールドに適用する検証ルール</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td><a href="field.html">Fieldset_Field</a> インスタンス</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$title_field = $article_form->add('article_title', 'Title', array('class' => 'pretty_input'));

// ラジオボタンの例
$ops = array('male', 'female');
$form->add(
	'gender', '',
	array('options' => $ops, 'type' => 'radio', 'value' => 'true')
);

// チェックボックスの例
$ops = array('male', 'female');
$form->add(
	'gender', '',
	array('options' => $ops, 'type' => 'checkbox', 'value' => 'true')
);

// 検証ルール付きの Email 入力の例
$form->add(
	'email', 'E-mail',
	array('type' => 'email', 'class' => 'pretty_input'),
	array('required', 'valid_email')
);

// 検証ルールを配列で記述した text 入力の例
$form->add(
	'name', 'Full name',
	array('type' => 'name', 'class' => 'pretty_input'),
	array(array('required'), array('valid_string', array('alpha-numeric', 'dots', 'spaces')))
);</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_delete">delete($name)</h4>
				<p>Fieldset から <a href="field.html">Fieldset_Field</a> インスタンスを取り除く。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><i>必須</i></td>
										<td>Fieldset のフィールド名</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>現在の Fieldset インスタンス</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$fieldset->delete('article_title');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_add_before">add_before($name, $label = '', array $attributes = array(), array $rules = array(), $fieldname = null)</h4>
				<p><a href="field.html">Fieldset_Field</a> インスタンスを作成し、 <strong>$fieldname</strong> で定義済みのフィールドを指定し、そのフィールドの直前に現在の Fieldset に追加します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><i>必須</i></td>
										<td>HTML name 属性、Fieldset でフィールドを参照するのにも使用する</td>
									</tr>
									<tr>
										<th><kbd>$label</kbd></th>
										<td><pre class="php"><code>''</code></pre></td>
										<td>フィールドラベル</td>
									</tr>
									<tr>
										<th><kbd>$attributes</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>HTML 属性の連想配列</td>
									</tr>
									<tr>
										<th><kbd>$rules</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>このフィールドに適用する検証ルール</td>
									</tr>
									<tr>
										<th><kbd>$fieldname</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>先に追加されているはずの定義済みフィールド</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td><a href="field.html">Fieldset_Field</a> オブジェクト</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// 'location' フィールドの前に追加されるラジオボタンフィールド
$ops = array('male', 'female');
$form->add_before('gender', '', array('options' => $ops, 'type' => 'radio', 'value' => 'true'), array(), 'location');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_add_after">add_after($name, $label = '', array $attributes = array(), array $rules = array(), $fieldname = null)</h4>
				<p><a href="field.html">Fieldset_Field</a> インスタンスを作成し、現在の Fieldset の <strong>$fieldname</strong> で識別される定義済みフィールドの後に追加する。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><i>必須</i></td>
										<td>HTML name 属性、 Fieldset でフィールドを参照するのにも使用する</td>
									</tr>
									<tr>
										<th><kbd>$label</kbd></th>
										<td><pre class="php"><code>''</code></pre></td>
										<td>フィールドラベル</td>
									</tr>
									<tr>
										<th><kbd>$attributes</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>HTML 属性の連想配列</td>
									</tr>
									<tr>
										<th><kbd>$rules</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>このフィールドに適用する検証ルール</td>
									</tr>
									<tr>
										<th><kbd>$fieldname</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>既に追加されているはずの定義済みフィールド</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td><a href="field.html">Fieldset_Field</a> オブジェクト</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// 'location' フィールドの後に追加されるラジオボタンフィールド
$ops = array('male', 'female');
$form->add_after('gender', '', array('options' => $ops, 'type' => 'radio', 'value' => 'true'), array(), 'location');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_field">field($name = null)</h4>
				<p>現在の Fieldset から <a href="field.html">Fieldset_Field</a> インスタンスを 1 つまたは全て取得する。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>Fieldset に存在しているフィールドの名前 または 全てのフィールドを取得するための null 。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td><a href="field.html">Fieldset_Field</a> インスタンス<br />
						または <a href="field.html">Fieldset_Field</a> インスタンスの <kbd>array()</kbd></td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$fields = $article_form->field();
$title_field = $article_form->field('article_title');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_add_model">add_model($class, $instance = null, $method = 'set_form_fields')</h4>
				<p>モデルフィールドを追加する。 モデルは <kbd>set_form_fields()</kbd> メソッドを必ずもち、そのメソッドはこの Fieldset インスタンスにフィールドを追加します。<br />
					<kbd>Orm\Model</kbd> はビルトインでこれをサポートしています。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$class</kbd></th>
										<td><i>必須</i></td>
										<td>(名前空間を含む)完全なクラス名、あるいはモデルのオブジェクトインスタンスを指定し、フィールドを取得する</td>
									</tr>
									<tr>
										<th><kbd>$instance</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>フィールドに入れるプロパティと同名の配列／オブジェクト。(モデルからフィールド名を取得し、この配列／オブジェクトから残りのパラメータを取得します)</td>
									</tr>
									<tr>
										<th><kbd>$method</kbd></th>
										<td><pre class="php"><code>'set_form_fields'</code></pre></td>
										<td>フィールド取得時に呼び出すメソッド名</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>\Fieldset オブジェクト</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$article_form = Fieldset::forge('article');
$article_form->add_model('Model_Article');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_set_config">set_config($config, $value = null)</h4>
				<p>fieldset の設定値をセットする</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$config</kbd></th>
										<td><em>必須</em></td>
										<td>設定の配列。</td>
									</tr>
									<tr>
										<th><kbd>$value</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>指定された場合は、渡された設定の配列から設定する項目を設定します。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>\Fieldset オブジェクト</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$article_form->set_config($config);

// or

$article_form->set_config('key', 'value');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article id="method_get_config">
				<h4 class="method" id="method_get_config">get_config($key = null, $default = null)</h4>
				<p>設定の配列を取得する、またはキーを指定して設定値を取得する。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$key</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>配列のキー( 1 つまたは複数)。空の場合はすべて取得する。</td>
									</tr>
									<tr>
										<th><kbd>$default</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>$key 入力がある場合は、単一または複数の値。入力が無い場合は配列。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>array() または mixed</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$config = $article_form->get_config();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article id="method_get_name">
				<h4 class="method" id="method_get_name">get_name()</h4>
				<p>fieldset インスタンスの識別子を取得する。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>(なし)</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>string</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
                            <pre class="php"><code>$article_form = Fieldset::forge('article');
$name = $article_form->get_name();  // 'article'</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_populate">populate($input, $repopulate = false)</h4>
				<p>指定した input に初期値を設定する。オプションで再設定するように設定可能。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$input</kbd></th>
										<td><i>必須</i></td>
										<td>それぞれのフィールドに割り当てる値のオブジェクトまたは連想配列、
											あるいは値を取得するモデルインスタンス。</td>
									</tr>
									<tr>
										<th><kbd>$repopulate</kbd></th>
										<td><code>false</code></td>
										<td>初期設定のあとに repopulate() メソッドを使用するかどうか</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>\Fieldset オブジェクト</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$article_form->populate($model);</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_repopulate">repopulate()</h4>
				<p>フォーム送信からの入力値をフィールドに設定する。(<kbd>method</kbd> 属性を使用して
					POST か GET かをチェックするかを決定する)</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<i>なし</i>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>\Fieldset Object</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$article_form->repopulate();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_build">build($action = null)</h4>
				<p>$this->form()->build() のエイリアス。HTML フォームマークアップを生成する。<a href="../form.html">Form</a> を参照。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$action</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>フォームの <kbd>action</kbd> 属性に指定する URL</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>string HTML マークアップ</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$this->template->form = $article_form->build(Uri::create('article/submit'));</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_disable">disable($field)</h4>
				<p>
					<kbd>disable</kbd> メソッドは、ビルドされるフィールドを無効にします。
					フォームのフィールドの順序を変更したり、複雑なレイアウトのフィールドを作成したり、といったことができます。
				</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td>required</td>
										<td>無効にしたいフィールド</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>\Fieldset オブジェクト</td>
					</tr>
					<tr>
						<th>例外</th>
						<td>RuntimeException, フィールドが定義されていない場合</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$fieldset->disable('name');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
				<p class="note">フィールドはフィールドセットから取り除かれませんので、バリデーションは行われます。</p>
			</article>

			<article>
				<h4 class="method" id="method_enable">enable($field)</h4>
				<p><kbd>enable</kbd> メソッドは、<kbd>disable</kbd>メソッドで無効化されたフィールドを再び有効にします。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td>required</td>
										<td>有効にしたいフィールド</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>\Fieldset Object</td>
					</tr>
					<tr>
						<th>例外</th>
						<td>RuntimeException, フィールドが定義されていない場合</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$fieldset->enable('name');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_input">input($field = null)</h4>
				<p>$this->validation()->input() のエイリアス。POST データまたは入力をバリデーションした値を配列で取得します。<a href="validation/validation.html#usage">Validation</a> を参照。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>値を取得するフィールド</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>配列、または指定したフィールドの値</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$input_values = $article_form->input();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_validated">validated($field = null)</h4>
				<p>$this->validation()->validated() のエイリアス。バリデーションされた値を配列で取得します。<a href="../validation/validation.html#usage">Validation</a> を参照。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>値を取得するフィールド</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>配列、または指定したフィールドの値。フィールドが見つからない場合は <kbd>false</kbd></td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$validated_values = $article_form->validated();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_error">error($field = null)</h4>
				<p>$this->validation()->error() のエイリアス。バリデーションされなかった値を配列で取得します。<a href="../validation/validation.html#usage">Validation</a> を参照。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>値を取得するフィールド</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>配列、または指定したフィールドの値。フィールドが見つからない場合は <kbd>false</kbd></td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$errors = $article_form->error();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_show_errors">show_errors(Array $config = array())</h4>
				<p>$this->validation()->show_errors() のエイリアス。全てのエラーリストを $config パラメータで設定したマークアップで返します。<a href="../validation/validation.html#usage">Validation</a> を参照。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$config</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>open_list, close_list, open_error, close_error そして no_errors を使用。値を上書きする。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>配列、または指定したフィールドの値。フィールドが見つからない場合は <kbd>false</kbd></td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$all_errors = $article_form->show_errors();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_set_tabular_form">set_tabular_form($model, $relation, $parent, $blanks = 1)</h4>
				<p>関連付けられる ORM モデルの埋め込みフィールドセットを定義し、1 対多フォームを作成する。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$model</kbd></th>
										<td><i>必須</i></td>
										<td>関連付けられるモデルの名前空間付きの名前。</td>
									</tr>
									<tr>
										<th><kbd>$relation</kbd></th>
										<td><i>必須</i></td>
										<td>$model に関連付けられる親オブジェクトのリレーション名</td>
									</tr>
									<tr>
										<th><kbd>$parent</kbd></th>
										<td><i>必須</i></td>
										<td>フォームを生成するのに使用する親オブジェクト。テーブルに表示されるレコードを含むオブジェクト。</td>
									</tr>
									<tr>
										<th><kbd>$blanks</kbd></th>
										<td><pre class="php"><code>1</code></pre></td>
										<td>テーブルに表示される空の行の数。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>Fieldset 、メソッドチェーン用</td>
					</tr>
					<tr>
						<th>例外</th>
						<td>RuntimeException, パラメータが適切でない場合</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<a href="#one_to_many_forms">以下</a>を参照
						</td>
					</tr>
					</tbody>
				</table>
				<p class="note">
					テーブルは <kbd>config/form.php</kbd> 設定ファイルのテンプレート定義に従って表示されます。
					これらのテンプレートを自由に変更することができますが、表構造は維持する必要があります。
					というのも、fieldset クラスが各行のフィールドに基づいてテーブルヘッダを追加するからです。
					もしテンプレートの行定義からテーブルを取り除いた場合、妥当でない HTML を生成してしまいます。
				</p>
			</article>

			<article>
				<h4 class="method" id="method_get_tabular_form">get_tabular_form()</h4>
				<p>テーブル名を返す。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							なし
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>mixed, フォームの名前、テーブル形式でない場合は <kbd>false</kbd></td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>if ($name = $form->get_tabular_form())
{
	echo '$form は表形式のフィールドセットで名前は ', $name;
}</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h2 id="create_forms_orm">ORM モデルからフォームを作成する</h2>

				<p>Fieldset クラスは、 ORM モデルからフォームを作成するために使用することができます。
					次の例ではモデルの <kbd>$_properties</kbd> で指定されたフィールドに基づきフォームを構築します。
					例では、 $article は Model_Article のインスタンスです。</p>

				<pre class="php"><code>echo Fieldset::forge('article')->add_model($article)->populate($article, true)->build();</code></pre>

				<p>モデルのすべてのプロパティをフォーム上に望まない場合、フォームの種類を
					<code>false</code> に設定することでそれらは生成されなくなります。<br />
					これは実際には裏で <a href="../packages/orm/observers/included.html#os_validation">Observer_Validation</a>
					を使用しますが、これが機能するためのオブザーバーとしてそれを追加する必要はありません。
					</p>
			</article>

			<article>
			<h2 id="one_to_many_forms">ORM モデルから One-to-Many フォームを作成する</h2>
				<p>ORM モデルオブジェクトと多くのリレーションのためのフォームを作成するために Fieldset クラスはまた利用することができます。
					これは、関連するモデルとリレーションの名前を指定して、メインフォームのフィールドセットに表形式のフィールドセットを埋め込むことによって行われます。</p>

				<p>デフォルトでは、 One-to-Many フィールドセットは <kbd>config/form.php</kbd> ファイル内のテンプレートによって制御され、表形式で表示されます。
				</p>

				<pre class='php'><code>// $id で識別される記事とそのコメントの one-to-many フォームを作成しようとしている。

// 記事とその関連のコメントを取得
$article = Model_Article::find($id, array('related' => array('comments')));

// ORM モデルフォーム定義を使用してこの記事のためのフォームフィールドセットを作成
$form = Fieldset::forge('article')->add_model($article);

/*
 * one-to-many テーブルを作成するために表形式を追加。
 *
 * データは、 $article オブジェクトに関連づけされた、 'Model_Comment' クラスのオブジェクトである
 * 'comments' によって提供される。
 *
 * フォームに埋め込まフィールドセットを回避するためにフィールドセットタグを無効にすることができます
 */
$form->add(\Fieldset::forge('tabular')->set_tabular_form('Model_Comment', 'comments', $article)->set_fieldset_tag(false));
				</code></pre>

				<p class="note">それは複合キーを持って<strong>いない</strong>関連付けられたモデルのみで動作します！</p>

				<p>
					それは指定されたリレーションの名前の配列とそのインデックス値としてレコードの主キーの値を使用し表形式の HTML 入力タグを生成します。
					表の一番下に追加された空白行は '_new' 接尾辞と共にリレーション名を使用します。
					これは、 1 回で、親レコード、およびすべての関連付けられたレコードを更新することを可能にし、個別に新しい行を処理します。
				</p>
				<p>
					この例では、既存の行のために <code>comments[12][fieldA]</code> ような入力タグ名が表示されます
					(この場合は最初の空白行のフィールドのための <code>id = 12</code> と <code>comments_new[0][fieldA]</code> を持つ行。
				</p>
				<pre class='php'><code>// 投稿された one-to-many フォームを処理
if (\Input::post())
{
	// 入力を検証
	$form->validation()->run();

	// 検証済みの場合、更新を保存
	if ( ! $form->validation()->error())
	{
		// 記事の記録、および任意のコメントレコードの変更を更新
		$article->from_array($data);

		// 表形式のレコードを削除する必要があるか？
		foreach ($data['comments'] as $id => $row)
		{
			if ($id and ! empty($row['_delete']))
			{
				unset($article->comments[$id]);
			}
		}

		// 新しい表形式のレコードデータ持っているか (私たちは、1 つの空白行を追加していることを仮定) ？
		$data = array_filter($data['comments_new'][0]);

		$new_errors = false;
		if ( ! empty($data))
		{
			// 必須フィールドをチェック
			if (empty($data['fieldA']) or empty($data['fieldB']))
			{
				$new_errors = true;
				// ここで必要なフィールドが存在しないというエラーメッセージが表示する...
			}
			else
			{
				// 新たな関連付けされたレコードを作成
				$article->comments[] = Model_Comment::forge(array('article_id' => $article->id, 'fieldA' => $data['fieldA'], 'fieldB' => $data['fieldB']));
			}
		}

		// 更新を保存
		if ( ! $new_errors)
		{
			if ($article->save())
			{
				// ここでセーブ成功したメッセージを表示し、リダイレクトし離れる
			}
			else
			{
				// エラーメッセージを表示、保存が成功しなかった
			}
		}
	}
	else
	{
		// ユーザー検証失敗の通知
	}
}</code></pre>
			</article>

			<article>
			<h2 id="form_attributes">フォームの属性</h2>
			<p>フィールドセットによって生成されたフォームのレイアウトは、 <strong>form.php</strong> 設定ファイルによって制御されます。</p>

				<p>
					下記の設定値が定義されています：
				</p>

				<table class="config">
					<tbody>
						<tr class="header">
							<th>パラメータ</th>
							<th>Type</th>
							<th>デフォルト</th>
							<th>説明</th>
						</tr>
						<tr>
							<th>prep_value</th>
							<td>boolean</td>
							<td><pre class="php"><code>true</code></pre></td>
							<td>
								true の場合、フィールドセットに渡されたフォームの値は <kbd>Security::htmlentities()</kbd> を使用してエスケープされます。
							</td>
						</tr>
						<tr>
							<th>auto_id</th>
							<td>boolean</td>
							<td><pre class="php"><code>true</code></pre></td>
							<td>
								true の場合、フォームフィールドの id 属性が手動でフィールドに割り当てられていない場合に生成されます。
							</td>
						</tr>
						<tr>
							<th>auto_id_prefix</th>
							<td>string</td>
							<td><pre class="php"><code>'form_'</code></pre></td>
							<td>
								auto_id が true の場合、生成された id 属性の前にこの文字列をつけます。
							</td>
						</tr>
						<tr>
							<th>form_method</th>
							<td>string</td>
							<td><pre class="php"><code>'post'</code></pre></td>
							<td>
								生成するフォームアクションの種類。 'get' もしくは 'post' が指定可能。
							</td>
						</tr>
						<tr>
							<th>form_template</th>
							<td>string</td>
							<td><pre class="php"><code>'\n\t\t{open}<br />\n\t\t&lt;table&gt;\n{fields}\n\t\t&lt;/table&gt;<br />\n\t\t{close}\n'</code></pre></td>
							<td>
								フォームの開始と終了のためのプレースホルダを含む文字列と入力フィールドのリスト。
							</td>
						</tr>
						<tr>
							<th>field_template</th>
							<td>string</td>
							<td><pre class="php"><code>'\t\t&lt;tr&gt;<br />\n\t\t\t&lt;td class=\"{error_class}\"&gt;<br />{label}{required}&lt;/td&gt;<br />\n\t\t\t&lt;td class=\"{error_class}\"&gt;{field}<br />&lt;span&gt;{説明}&lt;/span&gt; {error_msg}<br />&lt;/td&gt;\n\t\t&lt;/tr&gt;\n'</code></pre></td>
							<td>
								単一の入力フィールドを生成するためのプレースホルダを含む文字列。
							</td>
						</tr>
						<tr>
							<th>multi_field_template</th>
							<td>string</td>
							<td><pre class="php"><code>'\t\t&lt;tr&gt;<br />\n\t\t\t&lt;td class=\"{error_class}\"&gt;<br />{group_label}{required}&lt;/td&gt;<br />\n\t\t\t&lt;td class=\"{error_class}\"&gt;{fields}<br />\n\t\t\t\t{field} {label}<br />\n{fields}&lt;span&gt;{description}&lt;/span&gt;<br />\t\t\t{error_msg}\n\t\t\t&lt;/td&gt;\n\t\t&lt;/tr&gt;\n'</code></pre></td>
							<td>
								ラジオボタンやチェックボックスのグループのように、複数の入力を有する単一の入力フィールドを生成するためのプレースホルダを含む文字列。
							</td>
						</tr>
						<tr>
							<th>error_template</th>
							<td>string</td>
							<td><pre class="php"><code>'&lt;span&gt;{error_msg}&lt;/span&gt;'</code></pre></td>
							<td>
								入力エラーのメッセージを生成するためのプレースホルダを含む文字列。
							</td>
						</tr>
						<tr>
							<th>group_label</th>
							<td>string</td>
							<td><pre class="php"><code>'&lt;span&gt;{label}&lt;/span&gt;'</code></pre></td>
							<td>
								マルチフィールド入力のラベルを生成するためのプレースホルダを含む文字列。
							</td>
						</tr>
						<tr>
							<th>required_mark</th>
							<td>string</td>
							<td><pre class="php"><code>'*'</code></pre></td>
							<td>
								HTML を含む文字列で必須の入力フィールドをマーク。
							</td>
						</tr>
						<tr>
							<th>inline_errors</th>
							<td>boolean</td>
							<td><pre class="php"><code>false</code></pre></td>
							<td>
								true の場合、検証エラーメッセージがフォームにインラインで表示されます。
							</td>
						</tr>
						<tr>
							<th>error_class</th>
							<td>string</td>
							<td><pre class="php"><code>null</code></pre></td>
							<td>
								エラーメッセージに適用する CSS クラス名
							</td>
						</tr>
						<tr>
							<th>label_class</th>
							<td>string</td>
							<td><pre class="php"><code>null</code></pre></td>
							<td>
								フィールドのラベルに適用する CSS クラス名
							</td>
						</tr>
						<tr>
							<th>tabular_form_template</th>
							<td>string</td>
							<td><pre class="php"><code>'&lt;table&gt;{fields}&lt;/table&gt;\n'</code></pre></td>
							<td>
								すべての行と完全な表形式のためのテンプレート。
							</td>
						</tr>
						<tr>
							<th>tabular_field_template</th>
							<td>string</td>
							<td><pre class="php"><code>'{field}'</code></pre></td>
							<td>
								表形式で子フィールドセットを埋め込むためのテンプレート。
							</td>
						</tr>
						<tr>
							<th>tabular_row_template</th>
							<td>string</td>
							<td><pre class="php"><code>'&lt;tr&gt;{fields}&lt;/tr&gt;\n'</code></pre></td>
							<td>
								表形式で単一の行を生成するためのテンプレート。
							</td>
						</tr>
						<tr>
							<th>tabular_row_field_template</th>
							<td>string</td>
							<td><pre class="php"><code>'\t\t\t&lt;td&gt;{label}{required}&nbsp;{field} {error_msg}&lt;/td&gt;\n'</code></pre></td>
							<td>
								表形式で行の単一のフィールドを生成するためのテンプレート。
							</td>
						</tr>
						<tr>
							<th>tabular_delete_label</th>
							<td>string</td>
							<td><pre class="php"><code>'Delete?'</code></pre></td>
							<td>
								行の削除のチェックボックスのためのカラムヘッダ。
							</td>
						</tr>
					</tbody>
				</table>

				<h3 id="form_attributes_macros">フォームの属性のマクロ</h3>

				<p>フォームテンプレートで次のマクロを利用することができます。</p>

				<table class="config">
					<tbody>
						<tr class="header">
							<th>パラメータ</th>
							<th>説明</th>
						</tr>
						<tr>
							<th>{open}</th>
							<td>フォーム開始タグ、 Form::open(); により生成。</td>
						</tr>
						<tr>
							<th>{close}</th>
							<td>フォーム終了タグ、 Form::open(); (訳注: Form::close() の間違い？) により生成。</td>
						</tr>
						<tr>
							<th>{fields}</th>
							<td>生成されたすべての入力フィールドを含む HTML のブロック。</td>
						</tr>
						<tr>
							<th>{label}</th>
							<td>入力フィールドのラベル、 Form::label(); により生成。</td>
						</tr>
						<tr>
							<th>{required}</th>
							<td>S必須の入力フィールドを示す文字列。</td>
						</tr>
						<tr>
							<th>{error_class}</th>
							<td>エラーメッセージに適用される設定されたクラス。</td>
						</tr>
						<tr>
							<th>{field}</th>
							<td>個々の入力フィールド用に生成された HTML 。</td>
						</tr>
						<tr>
							<th>{description}</th>
							<td>文字列フィールドの説明またはヘルプテキストが表示。</td>
						</tr>
						<tr>
							<th>{error_msg}</th>
							<td>検証の結果返される書式化されたエラーメッセージを含む文字列。</td>
						</tr>
						<tr>
							<th>{group_label}</th>
							<td>グループ化された入力フィールドの入力フィールドのラベル、 Form::label(); により生成。</td>
						</tr>
					</tbody>
				</table>

			</article>

			<article>
			<h2 id="modify_form_attributes">フォームの属性を変更する</h2>
				<p>2 つの方法でフィールドセットで <kbd>form()</kbd> インスタンスの属性を変更することができます。 <kbd>forge()</kbd> メソッドの属性の配列、もしくは、 直接フォームインスタンスを変更することでオプションを提供することができます。</p>
				<pre class='php'><code>// Fieldset オブジェクトの属性で form_attributes オプションを使用
$fieldset = Fieldset::forge('article', array(
	'form_attributes' => array(
		'id' => 'edit_article_form',
		'name' => 'edit_article'
		)
	)
);

// 直接フォームインスタンスを変更
$fieldset->form()->set_attribute('id', 'edit_article_form');
				</code></pre>
			</article>

			<p><strong>他の例は後で書かれます。</strong></p>

		</div>

		<footer>
			<p>
				&copy; FuelPHP Development Team 2010-2016 - <a href="http://fuelphp.com">FuelPHP</a> is released under the MIT license.
[ <a href="https://github.com/fuel/docs/commits/1.8/develop/classes/fieldset/fieldset.html">原文コミット履歴</a> | <a href="https://github.com/NEKOGET/FuelPHP_docs_jp/commits/1.8/develop_japanese/classes/fieldset/fieldset.html">翻訳コミット履歴</a> | <a href="https://github.com/NEKOGET/FuelPHP_docs_jp/blob/1.8/develop_japanese/classes/fieldset/fieldset.html">GitHubで修正</a> ]
			</p>
		</footer>
	</div>
</body>
</html>
