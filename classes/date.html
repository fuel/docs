<!doctype html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./../assets/css/combined.css?20190627">
	<link rel="shortcut icon" href="./../favicon.ico" />
	<script src="https://www.google.com/jsapi" type="text/javascript"></script>
	<script type="text/javascript">
		var path = './../';
		var class_prefix = "Date::";
	</script>
	<script src="./../assets/js/combined.js?20190627"></script>
	<title>Date - クラス - FuelPHP ドキュメント</title>
</head>
<body>
	<div id="container">
		<header id="header">
			<div class="table">
				<div id="cse">
					<gcse:searchbox-only newWindow="true"></gcse:searchbox-only>
				</div>
				<h1>
					<a href="https://fuelphp.com"><img height="37px" width="147px" src="./../assets/img/fuel.png" /></a>
					<strong>Documentation</strong>
				</h1>

			</div>
			<nav>
				<div class="clear"></div>
			</nav>
			<a href="#" id="toc_handle">目次</a>
			<div class="clear"></div>
		</header>

		<div id="main">

			<h2>Date クラス</h2>

			<p>Date クラスは、日付を扱うヘルパー関数を集めたものです。PHP の DateTime クラスとは異なり、
			Fuel Date クラスは、i18n を完全サポートしています。また、タイムゾーンの変換にも使用出来ます。</p>

			<article>
				<h4 class="method" id="method_forge">forge($timestamp = null, $timezone = null)</h4>
				<p><strong>forge</strong> メソッドは新しい Date オブジェクトを返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$timestamp</kbd></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>date オブジェクトにセットするタイムスタンプ</td>
								</tr>
								<tr>
									<th><kbd>$timezone</kbd></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>時刻をセットするタイムゾーン</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>Fuel\Core\Date オブジェクト</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>print_r(Date::forge(1294176140));

// 結果
Fuel\Core\Date Object
(
    [timestamp:protected] => 1294176140
    [timezone:protected] => UTC
)
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_time">time($timezone = null)</h4>
				<p><strong>time</strong> メソッドは、与えられたタイムゾーンの現在時刻を Date オブジェクトで返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$timezone</kbd></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>時刻をセットするタイムゾーン</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>Fuel\Core\Date オブジェクト</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>print_r(Date::time());</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_display_timezone">display_timezone($timezone = null)</h4>
				<p>
					<strong>display_timezone</strong> メソッドを使ってグローバルにタイムゾーンを設定し、
					format() メソッドにそのタイムゾーンを適用することでシステムのタイムゾーンと異なった出力を生成することが可能となります。
					引数を渡さない場合、現在の display_timezone が返されます。
				</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$timezone</kbd></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>システムのタイムゾーンを使わずに、タイムスタンプを変換するのに使われる表示用タイムゾーン。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>mixed, null か、引数が渡されない場合は現在の表示用タイムゾーン。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// 表示用のタイムゾーンに 'America/Lima' をセット
Date::display_timezone('America/Lima');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_create_from_string">create_from_string($input, $pattern_key = 'local')</h4>

				<p><strong>create_from_string</strong> は、与えられた日付文字列書式から Date オブジェクトを作成します。</p>

				<p class="note">この関数は、i18n のため <a href="http://www.php.net/manual/en/function.strptime.php" target="_blank">strptime()</a>
					を使用します。このメソッドは Windows ホストでは利用できないので、代わりに <kbd>strtotime()</kbd>
					を使用し、パターンを無視します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$input</kbd></th>
									<td><i>必須</i></td>
									<td>日付文字列</td>
								</tr>
								<tr>
									<th><kbd>$pattern_key</kbd></th>
									<td>"local"</td>
									<td>使用するパターン (config/date.php を参照 または直接の strptime（）パターン)</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>Fuel\Core\Date オブジェクト</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>print_r(Date::create_from_string("01/04/2011" , "us"));

// 結果
Fuel\Core\Date Object
(
    [timestamp:protected] => 1322956800
    [timezone:protected] => UTC
)
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_range_to_array">range_to_array($start, $end, $interval = '+1 Day')</h4>
				<p><strong>range_to_array</strong> は、指定範囲の日付を date オブジェクトの配列に変換します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$start</kbd></th>
									<td><i>必須</i></td>
									<td>開始日付を Date オブジェクトまたはタイムスタンプで指定</td>
								</tr>
								<tr>
									<th><kbd>$end</kbd></th>
									<td><i>必須</i></td>
									<td>終了日付を Date オブジェクトまたはタイムスタンプで指定</td>
								</tr>
								<tr>
									<th><kbd>$interval</kbd></th>
									<td>"+1 Day"</td>
									<td>Date オブジェクトを作成するインターバル</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>array</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$start = time();
$end = $start + 604800; // 1 週間後
print_r(Date::range_to_array($start, $end, "+2 days"));

// 結果
Array
(
    [0] => Fuel\Core\Date Object
        (
            [timestamp:protected] => 1294181818
            [timezone:protected] => UTC
        )

    [1] => Fuel\Core\Date Object
        (
            [timestamp:protected] => 1294354618
            [timezone:protected] => UTC
        )

    [2] => Fuel\Core\Date Object
        (
            [timestamp:protected] => 1294527418
            [timezone:protected] => UTC
        )

    [3] => Fuel\Core\Date Object
        (
            [timestamp:protected] => 1294700218
            [timezone:protected] => UTC
        )
)</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_date_in_month">days_in_month($month, $year = null)</h4>
				<p><strong>days_in_month</strong> は、指定した年月の日数を返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$month</kbd></th>
									<td><i>必須</i></td>
									<td>月</td>
								</tr>
								<tr>
									<th><kbd>$year</kbd></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>年 (デフォルトは現在の年)</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>int</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>echo Date::days_in_month(2);       // 28
echo Date::days_in_month(2, 2000); // 29
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_time_ago">time_ago($timestamp, $now, $period)</h4>
				<p><strong>time_ago</strong> メソッドは、時刻の差を返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$timestamp</kbd></th>
									<td><i>必須</i></td>
									<td>UNIX タイムスタンプ</td>
								</tr>
								<tr>
									<th><kbd>$now</kbd></th>
									<td><i>任意</i></td>
									<td>比較対象とする UNIX タイムスタンプ。指定されない、もしくは null の場合、現在時刻が適用される。</td>
								</tr>
								<tr>
									<th><kbd>$period</kbd></th>
									<td><i>任意</i></td>
									<td>返される結果の時間単位。'second' 、'minute' 、'hour' 、'day' 、'week' 、'month' 、'year' 、'decade' (10 年) が指定可能。なにも指定されない場合、可能な限り大きい単位で結果が返される。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>string</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>echo Date::time_ago(strtotime("01 January 2012")); // 1 months ago (2012 年 2 月に実行した場合)
echo Date::time_ago(strtotime("12 April 1964"), strtotime("01 March 2012")); // 5 decades ago
echo Date::time_ago(strtotime("12 April 1964"), strtotime("01 March 2012"), 'year'); // 48 years ago
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_format">format($pattern_key = 'local', $timezone = null)</h4>
				<p>
					<strong>format</strong> メソッドはパターンキーで指定されたフォーマットの日付を返します。
					パターンは、設定ファイル <kbd>fuel/core/config/date.php</kbd> で定義されています。
					あなたは、同じようなファイルを <kbd>app/config</kbd> に作成することでパターンを追加する事ができます。
				</p>
				<p class="note">このメソッドでは、i18n をサポートするため、 <kbd>date()</kbd> ではなく
				<a href="http://www.php.net/manual/en/function.strftime.php" target="_blank">strftime()</a> 関数のパターンを使います</p>
				<p>
					タイムゾーンを渡たさない場合、出力結果をフォーマットをする際に現在の Date オブジェクトがタイムゾーンにセットされます。
					既に <kbd>set_timezone()</kbd> メソッドによりタイムゾーンを設定し直していない限り、デフォルトではシステムのタイムゾーンが適用されます。
					また、<kbd>true</kbd> を渡すことで、グローバルな display_timezone を適用させることもできます。
				</p>
				<p class="note">例えば、ユーザーがログインした時に設定されるユーザープロフィールから、グローバルにタイムゾーンを変換することが可能です。
				これにより全ての日付がユーザーのタイムゾーンで表示されるようになります。</p>

				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$pattern_key</kbd></th>
									<td>"local"</td>
									<td>パターンキー (config/date.php を参照)</td>
								</tr>
								<tr>
									<th><kbd>$timezone</kbd></th>
									<td>null</td>
									<td>出力結果のタイムゾーンを指定することができます</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>string</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// システムの時間が UTC の場合、"01/04/2011 21:22" を返す
echo Date::forge(1294176140)->format("%m/%d/%Y %H:%M");

// タイムゾーンに "Europe/Amsterdam" (1 月で GMT+1) をセットすると、"01/04/2011 22:22" を返す
echo Date::forge(1294176140)->set_timezone('Europe/Amsterdam')->format("%m/%d/%Y %H:%M");

// ディスプレイタイムゾーンを "Europe/Amsterdam" にグローバルに設定する
Date::display_timezone('Europe/Amsterdam');

// これも同様に "01/04/2011 22:22" を返す
echo Date::forge(1294176140)->format("%m/%d/%Y %H:%M", true);</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_get_timestamp">get_timestamp()</h4>
				<p><strong>get_timestamp</strong> メソッドは、Date オブジェクトのタイムスタンプを返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>int</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>echo Date::forge(1294176140)->get_timestamp(); // 1294176140</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_get_timezone">get_timezone()</h4>
				<p><strong>get_timezone</strong> メソッドは、Date オブジェクトのタイムゾーンを返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>string</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>echo Date::forge(1294176140, "Europe/London")->get_timezone(); // Europe/London</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_get_timezone_abbr">get_timezone_abbr($display_timezone = false)</h4>
				<p><strong>get_timezone_abbr</strong> メソッドは Date オブジェクトに設定されているタイムゾーンの略称を返します。もしくはグローバルなタイムゾーンの略称を返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$display_timezone</kbd></th>
									<td><i>boolean</i></td>
									<td>true の場合、Date オブジェクトにセットされたタイムゾーンの代わりにグローバルな display_timzone が使用される</td>
								</tr>
							</table>
						</td>
					<tr>
						<th>返り値</th>
						<td>string</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>echo Date::forge(1294176140, "Europe/London")->get_timezone_abbr(); // "GMT" を返す
echo Date::forge(1294176140, "Europe/Amsterdam")->get_timezone_abbr(); // "CET" を返す

// グローバルにタイムゾーンの表示を "Europe/Amsterdam" に設定する
Date::display_timezone('Europe/Amsterdam');
echo Date::forge(1294176140)->get_timezone_abbr(true); // これも "CET" を返す</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_set_timezone">set_timezone($timezone)</h4>
				<p><strong>set_timezone</strong> メソッドは、Date オブジェクトのタイムゾーンをセットします。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$timezone</kbd></th>
									<td><i>必須</i></td>
									<td>Date オブジェクトにセットするタイムゾーン</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>string</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>echo Date::forge(1294176140)->set_timezone("America/Chicago")->get_timezone(); // America/Chicago</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

		</div>

		<footer>
			<p>
				&copy; FuelPHP Development Team 2010-2019 - <a href="http://fuelphp.com">FuelPHP</a> is released under the MIT license.
[ <a href="https://github.com/fuel/docs/commits/1.8/master/classes/date.html">原文コミット履歴</a> | <a href="https://github.com/NEKOGET/FuelPHP_docs_jp/commits/1.8/master_japanese/classes/date.html">翻訳コミット履歴</a> | <a href="https://github.com/NEKOGET/FuelPHP_docs_jp/blob/1.8/develop_japanese/classes/date.html">GitHubで修正</a> ]
			</p>
		</footer>
	</div>
</body>
</html>
