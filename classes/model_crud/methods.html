<!doctype html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./../../assets/css/combined.css?20190627">
	<link rel="shortcut icon" href="./../../favicon.ico" />
	<script src="https://www.google.com/jsapi" type="text/javascript"></script>
	<script type="text/javascript">
		var path = './../../';
		var class_prefix = "Model_Crud::";
	</script>
	<script src="./../../assets/js/combined.js?20190627"></script>
	<title>Model_Crud - クラス - FuelPHP ドキュメント</title>
</head>
<body>
	<div id="container">
		<header id="header">
			<div class="table">
				<div id="cse">
					<gcse:searchbox-only newWindow="true"></gcse:searchbox-only>
				</div>
				<h1>
					<a href="https://fuelphp.com"><img height="37px" width="147px" src="./../../assets/img/fuel.png" /></a>
					<strong>Documentation</strong>
				</h1>

			</div>
			<nav>
				<div class="clear"></div>
			</nav>
			<a href="#" id="toc_handle">目次</a>
			<div class="clear"></div>
		</header>

		<div id="main">

			<h2>Model_Crud メソッド</h2>

			<p class="note">例として使われているクラスは、Model_Crud を継承したものとします。</p>

			<article>
				<h4 class="method" id="method_forge">forge($data = array())</h4>
				<p><strong>forge</strong> メソッドは、新しい Model_Crud クラスのインスタンスを返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$data</kbd></th>
									<th><em>array</em></th>
									<td><pre class="php"><code>array()</code></pre></td>
									<td>新しいインスタンスの値。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>継承したクラス (Model_Crud の子) の新しいインスタンス。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// 新しいインスタンスを取得
$user = Model_User::forge();

// 値を持った新しいインスタンス
$user = Model_User::forge(array(
	'name' => 'John',
	'surname' => 'Doe',
	'email' => 'john@doe.org',
));
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_find_by_pk">find_by_pk($value)</h4>
				<p><strong>find_by_pk</strong> メソッドは、主キーからレコードを検索します。内部では <a href="#method_find_one_by">find_one_by</a> メソッドを使用します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$value</kbd></th>
									<th><em>mixed</em></th>
									<td><em>必須</em></td>
									<td>探したい主キーの値。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>結果を含む Model_Crud インスタンス、見つからない場合は <em>null</em> 。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// 条件が `id` = 2 のレコードを取得
$user = Model_User::find_by_pk(2);

if ($user === null)
{
	// 見つからない
}
else
{
	// 見つかった
	echo $user->email;
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_find_one_by">find_one_by($column, $value = null, $operator = '=')</h4>
				<p><strong>find_one_by</strong> メソッドは、与えられたカラムと値から 1 つのレコードを検索します。内部では <a href="#method_find">find</a> メソッドを使用します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$column</kbd></th>
									<th><em>string</em></th>
									<td><em>必須</em></td>
									<td>使いたいカラム。</td>
								</tr>
								<tr>
									<th><kbd>$value</kbd></th>
									<th><em>mixed</em></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>調べたい値。</td>
								</tr>
								<tr>
									<th><kbd>$operator</kbd></th>
									<th><em>string</em></th>
									<td><pre class="php"><code>'='</code></pre></td>
									<td>使いたい演算子。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>結果を含む Model_Crud インスタンス、見つからない場合は <em>null</em> 。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// 条件が `email` = "info@example.com" のレコードを取得
$user = Model_User::find_one_by('email', 'info@example.com');

if ($user === null)
{
	// 見つからない
}
else
{
	// 見つかった
	echo $user->email;
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_find_by">find_by($column = null, $value = null, $operator = '=', $limit = null, $offset = 0)</h4>
				<p><strong>find_by</strong> メソッドは、与えられたカラムと値にマッチする全てのレコードを検索します。オプションとして演算子、limit や offset を与えることができます。内部では <a href="#method_find">find</a> メソッドを使用します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$column</kbd></th>
									<th><em>string</em></th>
									<td><em>必須</em></td>
									<td>使用したいカラムまたは where 句の配列。</td>
								</tr>
								<tr>
									<th><kbd>$value</kbd></th>
									<th><em>mixed</em></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>調べたい値。</td>
								</tr>
								<tr>
									<th><kbd>$operator</kbd></th>
									<th><em>string</em></th>
									<td><pre class="php"><code>'='</code></pre></td>
									<td>使いたい演算子。</td>
								</tr>
								<tr>
									<th><kbd>$limit</kbd></th>
									<th><em>int</em></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>limit 句。</td>
								</tr>
								<tr>
									<th><kbd>$offset</kbd></th>
									<th><em>int</em></th>
									<td><pre class="php"><code>0</code></pre></td>
									<td>offset 句。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>結果を含む Model_Crud インスタンスの配列、見つからない場合は <em>null</em> 。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// SELECT * FROM `users` WHERE `email` LIKE "%@example.com" LIMIT 5 OFFSET 10
$users = Model_User::find_by('email', '%@example.com', 'like', 5, 10);

// Select * FROM `users` WHERE `name` = "John" AND `surname` LIKE "%Surname%" LIMIT 10
$users = \Model_User::find_by(array(
	'name' => 'John',
	array('surname', 'like', '%Surname%'),
), null, null, 10);

if ($users === null)
{
	// 見つからない
}
else
{
	foreach($users as $user)
	{
		// $user で何かをする
	}
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_find_by_magic">find_by_*($value = null)</h4>
				<p>これはマジックメソッドです。メソッド名の <code>find_by_</code> の後の部分に検索したいカラムの名前を指定することができます。</p>

				<strong>例</strong><br>
				<pre class="php"><code>// これは、 $user = Model_User::find_by('email', 'foo@example.com'); と同じ
$user = Model_User::find_by_email('foo@example.com');
</code></pre>
			</article>
						<article>
				<h4 class="method" id="method_find_one_by_magic">find_one_by_*($value = null)</h4>
				<p>これは 1 つのレコードを返すマジックメソッドです。メソッド名の <code>find_one_by_</code> の後の部分に検索したいカラムの名前を指定することができます。</p>

				<strong>例</strong><br>
				<pre class="php"><code>// これは、 $user = Model_User::find_one_by('email', 'foo@example.com'); と同じ
$user = Model_User::find_one_by_email('foo@example.com');
</code></pre>
			</article>

			<article>
				<h4 class="method" id="method_find_all">find_all($limit = null, $offset = 0)</h4>
				<p><strong>find_all</strong> メソッドは、オプションの limit と offset を使い全てのレコードを検索します。内部では <a href="#method_find">find</a> メソッドを使用します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$limit</kbd></th>
									<th><em>int</em></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>limit 句。</td>
								</tr>
								<tr>
									<th><kbd>$offset</kbd></th>
									<th><em>int</em></th>
									<td><pre class="php"><code>0</code></pre></td>
									<td>offset 句。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>結果を含む Model_Crud インスタンスの配列、見つからない場合は <em>null</em> 。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// SELECT * FROM `users` LIMIT 10 OFFSET 20
$users = Model_User::find_all(10, 20);
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_find">find($config = array(), $key = null)</h4>
				<p><strong>find</strong> メソッドは、クエリに影響を与える条件の配列を使って全てのレコードを検索します。</p>
				<p>このメソッドは、最初の引数として <code>クロージャ</code> も受け取ります。クロージャが与えられた場合、それが呼び出されて (クロージャに) <code>Database_Query</code> オブジェクトが送られます。これを使って、クエリが実行される前にクエリを修正することができます。クロージャは、修正した Database_Query オブジェクトを返さなければいけません。</p>
				<p class="note">このメソッドは、他の検索メソッドの全てに使われています。カスタムな検索をしたい場合に限って使用したほうがよいでしょう。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$config</kbd></th>
									<th><em>array|Closure</em></th>
									<td><pre class="php"><code>array()</code></pre></td>
									<td>条件の配列またはクエリを修正するクロージャ。</td>
								</tr>
								<tr>
									<th><kbd>$key</kbd></th>
									<th><em>string</em></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>結果の配列キーとして使うために、これをテーブルのカラムにセットする。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>結果を含む Model_Crud インスタンスの配列、見つからない場合は <em>null</em> 。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<strong>基本的な使用法</strong>
							<pre class="php"><code>$users = Model_User::find(array(
	'select' => array('id', 'name', 'email'),
	'where' => array(
		array('name', 'like', '%Name%'),
		'suspended' => 'no',
		array('id', 'in', array(1, 2, 3, 4)),
	),
	'order_by' => array(
		'name' => 'asc',
		'surname' => 'desc',
	),
	'limit' => 10,
	'offset' => 20,
));</code></pre>
							<hr>
							<strong>キーを使った基本的な使用法</strong>
							<pre class="php"><code>$users = Model_User::find(array(
	'where' => array(
		'active' => 'yes',
		'banned' => 'no',
	),
	'order_by' => array('id' => 'desc'),
), 'id');</code></pre>
							<hr>
							<strong>クロージャを使った高度な使用法</strong>
							<pre class="php"><code>$users = Model_User::find(function ($query)
{
	return $query->join('roles')
	             ->on('roles.id', '=', 'users.role_id')
	             ->where('roles.name', 'admin');
});
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_pre_find">pre_find(&amp;$query)</h4>
				<p>実行する前にクエリを変更するために、 <strong>pre_find</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$query</kbd></th>
									<th><em>\Query_Builder_Select オブジェクト</em></th>
									<td><em>必須</em></td>
									<td>クエリオブジェクト。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>Void</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected static function pre_find(&$query)
{
	// クエリを変更
	$query->where('active', 'yes');
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_post_find">post_find($result)</h4>
				<p>返す前に結果を変更するために、 <strong>post_find</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$key</kbd></th>
									<th><em>\Query_Builder_Select オブジェクト</em></th>
									<td><em>必須</em></td>
									<td>レコードが見つからない場合は Null 、または結果の配列。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>結果 (配列または null) を返す。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected static function post_find($result)
{
	if ($result !== null)
	{
		// 結果の配列を変更
	}

	// 結果を返す
	return $result;
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_set">set($values)</h4>
				<p><strong>set</strong> メソッドは、現在のモデルインスタンスに値の配列をセットします。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$values</kbd></th>
									<th><em>array</em></th>
									<td><em>必須</em></td>
									<td>値の配列。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>現在のモデルインスタンス。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$user = Model_User::forge()->set(array(
	'name' => 'My Name',
	'surname' => 'My Surname',
));
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_save">save($validate = true)</h4>
				<p><strong>save</strong> メソッドは、レコードを挿入または更新します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$validate</kbd></th>
									<th><em>boolean</em></th>
									<td><pre class="php"><code>true</code></pre></td>
									<td>バリデーションを実行するかどうか。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>バリデーションを通らなかった場合は False 、挿入した場合は挿入の結果、更新した場合は更新の結果。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$user = Model_User::forge()->set(array(
	'name' => 'My Name',
	'surname' => 'My Surname',
));

// 新しいユーザを挿入
$result = $user->save();

$user = Model_User::find_by_pk(2);

$user->name = 'New Name';

// ユーザを更新
$user->save();

// バリデーションを実行せずに更新
$user->save(false);
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_delete">delete()</h4>
				<p><strong>delete</strong> メソッドは、レコードを削除します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<em>なし</em>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>削除クエリの結果、変更された行の数。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$user = Model_User::find_by_pk(2);
if ($user)
{
	// ユーザを削除
	$user->delete();
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_is_new">is_new($new = null)</h4>
				<p><strong>is_new</strong> メソッドは、レコードが新しいかをチェックします、または新しいかそうでないかをセットします。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$new</kbd></th>
									<th><em>null|bool</em></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>レコードが新しいかどうかをセットするために boolean を与えます。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>現在のインスタンス。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$user = Model_User::forge(array(
	'id' => 3,
	'name' => 'John',
	'surname' => 'Otherdoe',
));

$user->is_new(false);

// 更新
$user->save();
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_count">count($column = null, $distinct = true, $where = array(), $group_by = null)</h4>
				<p><strong>count</strong> メソッドは、列をカウントして返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">Static</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$column</kbd></th>
									<th><em>string</em></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>カウントするカラムの名前。与えられなかった場合、主キーを使います。</td>
								</tr>
								<tr>
									<th><kbd>$distinct</kbd></th>
									<th><em>boolean</em></th>
									<td><pre class="php"><code>true</code></pre></td>
									<td>distinct 句のクエリを実行するかしないか。</td>
								</tr>
								<tr>
									<th><kbd>$where</kbd></th>
									<th><em>array</em></th>
									<td><pre class="php"><code>array()</code></pre></td>
									<td>結果に検索条件をつける where 句の配列。</td>
								</tr>
								<tr>
									<th><kbd>$group_by</kbd></th>
									<th><em>string</em></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>group by するカラム。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>Mixed 。カウントしたクエリの結果の整数、またはクエリが失敗した場合は false 。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// テーブルの中の全てのレコードをカウント
$nbr_of_records = Model_User::count();

// 結果のカウントに管理者ユーザだけをフィルタ
$nbr_of_records = Model_User::count('id', true, array('group', '=', 100));
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_frozen">frozen($frozen = null)</h4>
				<p><strong>frozen</strong> メソッドは、レコードが凍結されているかをチェックします、または凍結するかしないかをセットします。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$frozen</kbd></th>
									<th><em>null|bool</em></th>
									<td><pre class="php"><code>null</code></pre></td>
									<td>レコードを凍結させるかどうかをセットするために boolean を与えます。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>現在のインスタンス。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$user = Model_User::find_by_pk(2);
$user->frozen(true);

// 凍結したオブジェクトは誰も変更することができません...

$user->frozen(false);
// これで再び使うことができる。

</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_validation">validation()</h4>
				<p><strong>validation</strong> メソッドは、モデルの validation インスタンスを (作成し) 返す。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<em>なし</em>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>Validation インスタンス。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$user = Model_User::find_by_pk(2);
$validation_object = $user->validation();
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_validates">validates()</h4>
				<p><strong>validates</strong> メソッドは、インスタンスがバリデーションをパスするかどうかを返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<em>なし</em>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>結果の boolean 。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$model = new Model_User;
$model->set(array(
	'name' => 'John',
	'surname' => 'Doe',
));

if ($model->validates())
{
	// モデルが有効、バリデーションを通過。
	$model->save(false)
}
else
{
	// モデルが無効
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_to_array">to_array()</h4>
				<p><strong>to_array</strong> メソッドは、モデルの public の変数を返します。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<em>なし</em>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>array</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>$user = Model_User::find_by_pk(2);
$user_array = $user->to_array();
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_pre_save">pre_save(&$query)</h4>
				<p>挿入する前にクエリを変更するために、 <strong>pre_save</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$query</kbd></th>
									<th><em>\Database_Query_Builder_Insert オブジェクト</em></th>
									<td><em>必須</em></td>
									<td>挿入クエリオブジェクト</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>Void</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected function pre_save(&$query)
{
	// conditionally add a where clause
	if ($something)
	{
		$query->where('field', '=', $something);
	}
}</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_post_save">post_save($result)</h4>
				<p>挿入した結果に変更や振舞いを行うために、 <strong>post_save</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$result</kbd></th>
									<th><em>array</em></th>
									<td><em>必須</em></td>
									<td>挿入した結果の配列。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>挿入した結果の配列。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected function post_save($result)
{
	// 結果を使って何かをする
	return $result;
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_pre_update">pre_update(&$query)</h4>
				<p>更新する前にクエリを変更するために、 <strong>pre_update</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>はい</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$query</kbd></th>
									<th><em>\Database_Query_Builder_Update オブジェクト</em></th>
									<td><em>必須</em></td>
									<td>更新クエリオブジェクト。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>Void</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected function pre_update(&$query)
{
	// 更新クエリを変更。
	$query->set(array('field' => 'value'));
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_post_update">post_update($result)</h4>
				<p>更新クエリの結果を変更するために、 <strong>post_update</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$result</kbd></th>
									<th><em>int</em></th>
									<td><em>必須</em></td>
									<td>変更された行の数。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>更新クエリオブジェクト。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected function post_update($result)
{
	// 結果を使って何かをする
	return $result;
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_pre_delete">pre_delete(&$query)</h4>
				<p>削除する前にクエリを変更するために、 <strong>pre_delete</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$query</kbd></th>
									<th><em>\Database_Query_Builder_Delete オブジェクト</em></th>
									<td><em>必須</em></td>
									<td>削除クエリオブジェクト。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>Void</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected function pre_delete(&$query)
{
	// 削除クエリを使って何かをする
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_post_delete">post_delete($result)</h4>
				<p>削除した結果を変更するために、 <strong>post_delete</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$result</kbd></th>
									<th><em>int</em></th>
									<td><em>必須</em></td>
									<td>変更された行の数。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>変更された行の数。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected function post_delete($result)
{
	// 結果を使って何かをする
	return $result;
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_pre_validate">pre_validate($data)</h4>
				<p>バリデーションの前に挿入か更新されたデータを変更するために、 <strong>pre_validate</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$data</kbd></th>
									<th><em>array</em></th>
									<td><em>必須</em></td>
									<td>モデルのレコードデータ。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>モデルのレコードデータ。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected function pre_validate($data)
{
	// データを使って何かをする
	return $data;
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_post_validate">post_validate($data)</h4>
				<p>バリデーションの後に挿入か更新されたデータを変更するために、 <strong>post_validate</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$data</kbd></th>
									<th><em>array</em></th>
									<td><em>必須</em></td>
									<td>モデルのレコードデータ。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>モデルのレコードデータ。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected function post_validate($data)
{
	// データを使って何かをする
	return $data;
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_prep_values">prep_values($data)</h4>
				<p>バリデーションまたはクエリを実行する前に挿入か更新されたデータを変更するために、 <strong>prep_values</strong> メソッドを置き換えます。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">静的</th>
						<td>いいえ</td>
					</tr>
					<tr>
						<th>パラメータ</th>
						<td>
							<table class="parameters">
								<tr>
									<th>パラメータ</th>
									<th>型</th>
									<th>デフォルト</th>
									<th class="description">説明</th>
								</tr>
								<tr>
									<th><kbd>$data</kbd></th>
									<th><em>array</em></th>
									<td><em>必須</em></td>
									<td>モデルのレコードデータ。</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<th>返り値</th>
						<td>モデルのレコードデータ。</td>
					</tr>
					<tr>
						<th>例</th>
						<td>
							<pre class="php"><code>// モデルの中で
protected function prep_values($data)
{
	// データを使って何かをする
	return $data;
}
</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

		</div>

		<footer>
			<p>
				&copy; FuelPHP Development Team 2010-2019 - <a href="http://fuelphp.com">FuelPHP</a> is released under the MIT license.
[ <a href="https://github.com/fuel/docs/commits/1.8/master/classes/model_crud/methods.html">原文コミット履歴</a> | <a href="https://github.com/NEKOGET/FuelPHP_docs_jp/commits/1.8/master_japanese/classes/model_crud/methods.html">翻訳コミット履歴</a> | <a href="https://github.com/NEKOGET/FuelPHP_docs_jp/blob/1.8/develop_japanese/classes/model_crud/methods.html">GitHubで修正</a> ]
			</p>
		</footer>
	</div>
</body>
</html>
